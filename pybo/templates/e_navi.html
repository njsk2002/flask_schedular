
<body>
    <header class="blog-header">
        <a class="blog-header-logo text-dark text-decoration-none" href="#">ICE Sense</a>
        <div class="blog-header-right">
           
            <!-- <button id="loginBtn" class="login-btn" onclick="toggleLogin()">Login</button> -->
            <!-- 사용자 ID 표시 (로그인 후에만 보이도록 설정) -->
            <span id="userIdText" class="fw-bold text-primary me-3" style="display: none;"></span>

            <!-- 로그인 버튼 (로그아웃 상태일 때 숨김) -->
            <button id="loginBtn" class="btn btn-outline-primary px-3 py-2 rounded-pill shadow-sm">
                <i class="fas fa-sign-in-alt me-2"></i> Login
            </button>

            <!-- 로그아웃 버튼 (초기에는 숨김 처리) -->
            <button id="logoutBtn" class="btn btn-light px-3 py-2 rounded-pill shadow-sm border" style="display: none;">
                <i class="fas fa-sign-out-alt me-2"></i> Logout
            </button>

            <button class="bookmark-btn" onclick="toggleBookmarkMenu()">&#9776;</button>
            
        </div>
        <div class="bookmark-menu" id="bookmarkMenu">
            <a class="nav-item nav-link active" href="#">World</a>
            <a class="nav-item nav-link" href="{{url_for('naverapi.admin_image')}}">사진</a>
            <a class="nav-item nav-link" href="{{url_for('auth.mypage')}}">나의페이지</a>
            <a class="nav-item nav-link" href="{{url_for('enamecard.get_namecards')}}">e-명함</a>
            <a class="nav-item nav-link" href="{{url_for('enamecard.gen_sharecards')}}">e-쉐어카드 생성</a>
            <a class="nav-item nav-link" href="{{url_for('enamecard.view_sharecards')}}">e-쉐어카드</a>
            <!-- <a class="nav-item nav-link" href="#">Politics</a>
            <a class="nav-item nav-link" href="#">Opinion</a>
            <a class="nav-item nav-link" href="#">Science</a>
            <a class="nav-item nav-link" href="#">Health</a>
            <a class="nav-item nav-link" href="#">Style</a>
            <a class="nav-item nav-link" href="#">Travel</a> -->
        </div>
    </header>
    <div class="nav-scroller py-1 mb-3 border-bottom">
        <nav class="nav nav-underline justify-content-between">
            <a class="nav-item nav-link active" href="#">World</a>
            <a class="nav-item nav-link" href="{{url_for('naverapi.admin_image')}}">사진</a>
            <a class="nav-item nav-link" href="{{url_for('auth.mypage')}}">나의페이지</a>
            <a class="nav-item nav-link" href="{{url_for('enamecard.get_namecards')}}">e-명함</a>
            <a class="nav-item nav-link" href="{{url_for('enamecard.gen_sharecards')}}">e-쉐어카드 생성</a>
            <a class="nav-item nav-link" href="{{url_for('enamecard.view_sharecards')}}">e-쉐어카드</a>
            <!-- <a class="nav-item nav-link" href="#">Politics</a>
            <a class="nav-item nav-link" href="#">Opinion</a>
            <a class="nav-item nav-link" href="#">Science</a>
            <a class="nav-item nav-link" href="#">Health</a>
            <a class="nav-item nav-link" href="#">Style</a>
            <a class="nav-item nav-link" href="#">Travel</a> -->
        </nav>
    </div>
    <script>
        function toggleBookmarkMenu() {
            document.getElementById('bookmarkMenu').classList.toggle('show');
        }

        function toggleLogin() {
            let loginBtn = document.getElementById('loginBtn');
            let userId = sessionStorage.getItem('userId');

            if (!userId) {
                // 로그인 페이지로 이동
                window.location.href = "{{ url_for('auth.login') }}";
            } else {
                // 로그아웃 처리
                sessionStorage.removeItem('userId');
                loginBtn.innerText = "Login";
            }
        }

        // // 로그인 상태 확인 후 버튼 업데이트
        // document.addEventListener("DOMContentLoaded", function () {
        //     let loginBtn = document.getElementById('loginBtn');
        //     let userId = sessionStorage.getItem('userId');

        //     if (userId) {
        //         loginBtn.innerText = userId + " (Logout)";
        //     }
        // });
        
        // 로그인 상태 확인 후 버튼 업데이트
        document.addEventListener("DOMContentLoaded", function () {
        let loginBtn = document.getElementById("loginBtn");
        let logoutBtn = document.getElementById("logoutBtn");
        let userIdText = document.getElementById("userIdText");
        let userId = sessionStorage.getItem("userId");

        if (userId) {
            // 로그인 상태일 경우 UI 변경
            loginBtn.style.display = "none";  // 로그인 버튼 숨기기
            userIdText.style.display = "inline-block";  // 사용자 ID 표시
            userIdText.innerText = userId;  // 사용자 ID 삽입
            logoutBtn.style.display = "inline-block";  // 로그아웃 버튼 보이기

            // 로그아웃 기능
            logoutBtn.onclick = function () {
                sessionStorage.removeItem("userId");
                loginBtn.style.display = "inline-block";  // 로그인 버튼 다시 표시
                logoutBtn.style.display = "none";  // 로그아웃 버튼 숨기기
                userIdText.style.display = "none";  // 사용자 ID 숨기기
            };
        } else {
            // 로그아웃 상태일 경우 UI 변경
            loginBtn.style.display = "inline-block";
            logoutBtn.style.display = "none";
            userIdText.style.display = "none";
        }

        // 로그인 버튼 클릭 시 로그인 페이지로 이동
        loginBtn.onclick = function () {
            window.location.href = "{{ url_for('auth.login') }}";
        };
    });

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
